// Basic configuration
var PORT = process.env.PORT || process.argv[2] || 3000;
var DEBUG = true;

// Script
var path = require('path');
var Express = require('express');
var Map = require('./lib/Map');
var GeoJsonSource = require('./datasources/GeoJson');

// App configuration
var app = Express();
app.use(Express.compress());
app.use(Express.static(__dirname + '/public'));

// just use one map for everything
var map = new Map();
// map.addData(function() { return layers });
// map.addData(function(x1, y1, x2, y2, projection, callback) { callback(null, layers); });
//map.addData(new GeoJsonSource({path: __dirname + '/geodata/planning_neighborhoods.json'}));
map.addData(new GeoJsonSource({path: __dirname + '/geodata/sf_shore.json'}));
map.addData(new GeoJsonSource({path: __dirname + '/geodata/sf_parks.json'}));
map.addData(new GeoJsonSource({path: __dirname + '/geodata/sf_streets.json'}));
map.addStyle(require('./sf_styles'));
